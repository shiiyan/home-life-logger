(function(e){function t(t){for(var r,a,s=t[0],l=t[1],c=t[2],p=0,m=[];p<s.length;p++)a=s[p],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&m.push(i[a][0]),i[a]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);u&&u(t);while(m.length)m.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,s=1;s<n.length;s++){var l=n[s];0!==i[l]&&(r=!1)}r&&(o.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},i={app:0},o=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/home-life-logger/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var u=l;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var r=n("1530"),i=n.n(r);i.a},1530:function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[e.isFinishedLogin?n("AppContainer",[e.currentUser?n("AppContent",{attrs:{currentUser:e.currentUser}}):n("LoginPanel")],1):n("LoadingSpinner")],1)},o=[],a=(n("96cf"),n("1da1")),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-container",{attrs:{fluid:"lg"}},[e._t("default")],2)},l=[],c=n("2877"),u={},p=Object(c["a"])(u,s,l,!1,null,null,null),m=p.exports,d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("StepFrame",{attrs:{"user-name":e.currentUser.displayName,"current-step":e.currentStep,steps:e.steps},on:{"click-go-next":e.handleGoNext,"click-go-back":e.handleGoBack,"click-upload":e.handleUpload}},[e.isVisibleFoodRater?n("FoodRater"):e.isVisibleSleepTimePicker?n("SleepTimePicker"):e.isVisibleWorkoutTimeSpinner?n("WorkoutTimeSpinner"):n("Result",{attrs:{steps:e.steps}})],1)},f=[],g=(n("fb6a"),n("b0c0"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h3",{staticClass:"mt-2 text-right"},[e._v("Welcome "+e._s(e.userName)+"!")]),n("b-progress",{staticClass:"mt-3",attrs:{max:e.steps.length,animated:""}},e._l(e.steps,(function(e){return n("b-progress-bar",{key:e.name,attrs:{value:e.value,variant:e.color}})})),1),e._t("default"),n("div",{staticClass:"mt-5"},[n("b-button",{attrs:{disabled:e.isDisableGoBackButton,pill:"",variant:"outline-primary"},on:{click:e.goBack}},[e._v("\n      Go Back\n    ")]),e.isVisibleGoNextButton?n("b-button",{staticClass:"ml-3",attrs:{pill:"",variant:"outline-success"},on:{click:e.goNext}},[e._v("\n      Go Next\n    ")]):e._e(),e.isVisibleUploadButton?n("b-button",{staticClass:"ml-3",attrs:{pill:"",variant:"outline-success"},on:{click:e.upload}},[e._v("\n      Upload\n    ")]):e._e()],1)],2)}),h=[],b=(n("a9e3"),{props:{userName:{type:String,required:!0},currentStep:{type:Number,required:!0},steps:{type:Array,required:!0}},computed:{isDisableGoBackButton:function(){return 0===this.currentStep},isVisibleGoNextButton:function(){return this.currentStep<this.steps.length},isVisibleUploadButton:function(){return this.currentStep===this.steps.length}},methods:{goNext:function(){this.$emit("click-go-next")},goBack:function(){this.$emit("click-go-back")},upload:function(){this.$emit("click-upload")}}}),v=b,k=Object(c["a"])(v,g,h,!1,null,null,null),w=k.exports,T=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("b-row",{staticClass:"h2 mt-5",attrs:{"align-h":"center"}},[e._v("Rate Foods Today")]),n("b-row",{staticClass:"mt-5",attrs:{"align-h":"center"}},[n("b-col",{attrs:{sm:"6"}},[n("b-form-rating",{staticClass:"mb-2",attrs:{variant:"warning"},model:{value:e.foodRate,callback:function(t){e.foodRate=t},expression:"foodRate"}})],1)],1)],1)},S=[],_=function(e){var t=e.state,n=e.mutations;return new r["default"]({data:function(){return{state:t}},methods:{commit:function(e,t){n[e](this.state,t)}}})},x=_({state:{foodRate:0,sleepingTime:{sleepTime:"",awakeTime:""},workoutTime:0},mutations:{updateFoodRate:function(e,t){e.foodRate=t},updateSleepTime:function(e,t){e.sleepingTime.sleepTime=t},updateAwakeTime:function(e,t){e.sleepingTime.awakeTime=t},updateWorkoutTime:function(e,t){e.workoutTime=t}}}),y={computed:{foodRate:{get:function(){return x.state.foodRate},set:function(e){return x.commit("updateFoodRate",e)}}}},R=y,C=Object(c["a"])(R,T,S,!1,null,null,null),O=C.exports,j=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("b-row",{staticClass:"h2 mt-5",attrs:{"align-h":"center"}},[e._v("Select Sleeping Time")]),n("b-row",{staticClass:"mt-5",attrs:{"align-h":"center"}},[n("b-col",{attrs:{sm:"6"}},[n("b-form-timepicker",{attrs:{locale:"en",placeholder:"Sleep Time","now-button":"","reset-button":""},model:{value:e.sleepTime,callback:function(t){e.sleepTime=t},expression:"sleepTime"}})],1)],1),n("b-row",{staticClass:"h2 mb-0",attrs:{"align-h":"center"}},[e._v("~")]),n("b-row",{attrs:{"align-h":"center"}},[n("b-col",{attrs:{sm:"6"}},[n("b-form-timepicker",{attrs:{locale:"en",placeholder:"Awake Time","now-button":"","reset-button":""},model:{value:e.awakeTime,callback:function(t){e.awakeTime=t},expression:"awakeTime"}})],1)],1)],1)},U=[],F={computed:{sleepTime:{get:function(){return x.state.sleepingTime.sleepTime},set:function(e){return x.commit("updateSleepTime",e)}},awakeTime:{get:function(){return x.state.sleepingTime.awakeTime},set:function(e){return x.commit("updateAwakeTime",e)}}}},B=F,P=Object(c["a"])(B,j,U,!1,null,null,null),A=P.exports,V=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("b-row",{staticClass:"h2 mt-5",attrs:{"align-h":"center"}},[e._v("Spin Workout Time (min)")]),n("b-row",{staticClass:"mt-5",attrs:{"align-h":"center"}},[n("b-col",{attrs:{sm:"6"}},[n("b-form-spinbutton",{attrs:{min:"0",max:"200"},model:{value:e.workoutTime,callback:function(t){e.workoutTime=t},expression:"workoutTime"}})],1)],1)],1)},W=[],N={computed:{workoutTime:{get:function(){return x.state.workoutTime},set:function(e){return x.commit("updateWorkoutTime",e)}}}},$=N,E=Object(c["a"])($,V,W,!1,null,null,null),L=E.exports,G=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("b-row",{staticClass:"h2 mt-5",attrs:{"align-h":"center"}},[e._v("Today's Results")]),n("b-row",{staticClass:"mt-5",attrs:{"align-h":"center"}},[n("b-col",{attrs:{sm:"6"}},[n("b-list-group",e._l(e.steps,(function(t){return n("b-list-group-item",{key:t.name,attrs:{variant:t.color}},[e._v("\n          "+e._s(t.name)+": "+e._s(e.result[t.name])+"\n        ")])})),1)],1)],1),n("b-row",{staticClass:"h2 mt-5",attrs:{"align-h":"center"}},[e._v("Upload?")])],1)},I=[],M=(n("99af"),n("ade3")),q={foodRating:"Food Rating",sleepingTime:"Sleeping Time",workoutTime:"Workout Time",result:"Result"},z={props:{steps:{type:Array,required:!0}},computed:{result:function(){var e;return e={},Object(M["a"])(e,q.foodRating,x.state.foodRate),Object(M["a"])(e,q.sleepingTime,"".concat(x.state.sleepingTime.sleepTime," ~ ").concat(x.state.sleepingTime.awakeTime)),Object(M["a"])(e,q.workoutTime,x.state.workoutTime),e}}},D=z,J=Object(c["a"])(D,G,I,!1,null,null,null),H=J.exports,Q=n("260b"),K=(n("e71f"),(new Date).toISOString().slice(0,10)),X={props:{currentUser:{type:Object,required:!0}},data:function(){return{currentStep:0,steps:[{name:q.sleepingTime,color:"success",value:0},{name:q.workoutTime,color:"danger",value:0},{name:q.foodRating,color:"warning",value:0}]}},components:{StepFrame:w,FoodRater:O,SleepTimePicker:A,WorkoutTimeSpinner:L,Result:H},computed:{isVisibleFoodRater:function(){var e;return(null===(e=this.steps[this.currentStep])||void 0===e?void 0:e.name)===q.foodRating},isVisibleSleepTimePicker:function(){var e;return(null===(e=this.steps[this.currentStep])||void 0===e?void 0:e.name)===q.sleepingTime},isVisibleWorkoutTimeSpinner:function(){var e;return(null===(e=this.steps[this.currentStep])||void 0===e?void 0:e.name)===q.workoutTime},docRef:function(){return Q["a"].firestore().collection("users").doc(this.currentUser.uid).collection("dailyLogs").doc(K)}},created:function(){this.docRef.get().then((function(e){e.exists&&(x.commit("updateFoodRate",e.data().foodRating),x.commit("updateSleepTime",e.data().sleepingTime.sleepTime),x.commit("updateAwakeTime",e.data().sleepingTime.awakeTime),x.commit("updateWorkoutTime",e.data().workoutTime))})).catch((function(e){console.error("Error getting document: ",e)}))},methods:{handleGoNext:function(){this.currentStep>=this.steps.length||(this.steps[this.currentStep].value=1,this.currentStep+=1)},handleGoBack:function(){this.currentStep<=0||(this.steps[this.currentStep-1].value=0,this.currentStep-=1)},handleUpload:function(){this.docRef.set({foodRating:x.state.foodRate,workoutTime:x.state.workoutTime,sleepingTime:x.state.sleepingTime}).then((function(){alert("Upload succeed!")})).catch((function(e){console.error("Error uploading: ",e)}))}}},Y=X,Z=Object(c["a"])(Y,d,f,!1,null,null,null),ee=Z.exports,te=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mt-5"},[n("h2",[e._v("Please login to use app")]),n("button",{staticClass:"mt-3 btn btn-primary d-inline-flex align-items-center",on:{click:e.login}},[n("svg",{staticClass:"bi bi-facebook",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"}},[n("path",{attrs:{d:"M16 8.049c0-4.446-3.582-8.05-8-8.05C3.58 0-.002 3.603-.002 8.05c0 4.017 2.926 7.347 6.75 7.951v-5.625h-2.03V8.05H6.75V6.275c0-2.017 1.195-3.131 3.022-3.131.876 0 1.791.157 1.791.157v1.98h-1.009c-.993 0-1.303.621-1.303 1.258v1.51h2.218l-.354 2.326H9.25V16c3.824-.604 6.75-3.934 6.75-7.951z"}})]),n("span",{staticClass:"ml-1"},[e._v("Login with Facebook")])])])},ne=[],re=(n("ea7b"),{methods:{login:function(){var e=new Q["a"].auth.FacebookAuthProvider;Q["a"].auth().signInWithRedirect(e)}}}),ie=re,oe=Object(c["a"])(ie,te,ne,!1,null,null,null),ae=oe.exports,se=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},le=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"text-center mt-5"},[n("div",{staticClass:"spinner-grow text-secondary",staticStyle:{width:"3rem",height:"3rem"},attrs:{role:"status"}},[n("span",{staticClass:"sr-only"},[e._v("Loading...")])])])}],ce={},ue=Object(c["a"])(ce,se,le,!1,null,null,null),pe=ue.exports,me=(n("741f"),function(){return!("undefined"!==typeof window&&window.document)}),de={name:"HomeLifeLogger",components:{AppContainer:m,AppContent:ee,LoginPanel:ae,LoadingSpinner:pe},data:function(){return{currentUser:null,isFinishedLogin:!1}},created:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.info("isServer: ".concat(me())),Q["a"].auth().onAuthStateChanged((function(t){e.currentUser=t||null,e.isFinishedLogin=!0})),t.next=4,navigator.serviceWorker.register("./firebase-messaging-sw.js");case 4:n=t.sent,Q["a"].messaging().getToken({serviceWorkerRegistration:n,vapidKey:"BNoanaYSz4Ra2c01F3gNsyvsYtPFDaf1eXQgVKmc13SWldJ_VQkI9os9EdUXbJzLpdd6nz5R-sHxS6aWB9pA8wU"}).then((function(e){e||console.info("No registration token available. Request permission to generate one.")})).catch((function(e){console.error("An error occured while retrieving token. ",e)}));case 6:case"end":return t.stop()}}),t)})))()}},fe=de,ge=(n("034f"),Object(c["a"])(fe,i,o,!1,null,null,null)),he=ge.exports,be=n("5f5b"),ve=n("b1e0"),ke=(n("f9e3"),n("2dd8"),{apiKey:"AIzaSyDFwMdvSVUpCT0PZ4M01-bHiR-Jtl5JaCU",authDomain:"".concat("home-life-logger-prod",".firebaseapp.com"),databaseURL:"https://".concat("home-life-logger-prod",".firebaseio.com"),projectId:"home-life-logger-prod",storageBucket:"".concat("home-life-logger-prod",".appspot.com"),messagingSenderId:"221234637845",appId:"1:221234637845:web:1a720be25117a13177321c",measurementId:"G-NQ1G1QWMS6"});Q["a"].initializeApp(ke),r["default"].config.productionTip=!1,r["default"].use(be["a"]),r["default"].use(ve["a"]),new r["default"]({render:function(e){return e(he)}}).$mount("#app")}});
//# sourceMappingURL=app.16edce4f.js.map